{
    "id": "lesson-1c",
    "title": "Lesson 1c: Logger Utility",
    "steps": [
        {
            "title": "Why Not Just console.log()?",
            "content": "<p><strong>When your service crashes at 3 AM:</strong></p><div class=\"code-block\">// BAD\nThe error happened!\n(When? When what? Where? No idea.)</div><div class=\"code-block\">// GOOD\n[2025-12-05T03:17:42.193Z] [ERROR] Failed to read file: ENOENT\n(When? 3:17:42 AM. What? File not found. Which? markets.json)</div><p style=\"margin-top: 15px;\"><strong>Log levels matter:</strong></p><ul style=\"margin: 10px 0 10px 20px;\"><li><strong>INFO:</strong> Normal stuff (service started, prices updated)</li><li><strong>WARN:</strong> Weird but working (price hit cap, supply low)</li><li><strong>ERROR:</strong> Something broke (file missing, calc failed)</li><li><strong>DEBUG:</strong> Way too much detail (only in development!)</li></ul>"
        },
        {
            "title": "Create Logger.js",
            "content": "<p>Create <strong>src\\utils\\logger.js</strong>:</p><div class=\"code-block\"><code class=\"language-javascript\">// src/utils/logger.js\n// ====================\n// Simple Logger - Because console.log() Is For Peasants\n// Provides structured logging with timestamps and severity levels\n\nclass Logger {\n  constructor() {\n    // Check if DEBUG environment variable is set to 'true'\n    // Windows: set DEBUG=true && node market-service.js\n    // Mac/Linux: DEBUG=true node market-service.js\n    this.debugMode = process.env.DEBUG === 'true';\n  }\n  \n  /**\n   * Format a message with timestamp and level\n   * Example: \"[2025-12-05T03:17:42.193Z] [ERROR] message\"\n   */\n  format(level, message) {\n    const timestamp = new Date().toISOString();\n    return `[${timestamp}] [${level}] ${message}`;\n  }\n  \n  /**\n   * Log info message (normal operations)\n   * Use for: service started, prices updated, calculations done\n   */\n  info(message, ...data) {\n    console.log(this.format('INFO', message));\n    if (data.length > 0) console.log('  ', ...data);\n  }\n  \n  /**\n   * Log warning message (weird but not broken)\n   * Use for: market took too long, price hit cap, supply low\n   */\n  warn(message, ...data) {\n    console.warn(this.format('WARN', message));\n    if (data.length > 0) console.warn('  ', ...data);\n  }\n  \n  /**\n   * Log error message (something broke!)\n   * Use for: file not found, calc failed, invalid data\n   */\n  error(message, ...data) {\n    console.error(this.format('ERROR', message));\n    if (data.length > 0) console.error('  ', ...data);\n  }\n  \n  /**\n   * Log debug info (only in development!)\n   * Only prints if DEBUG=true\n   * Use for: variable values, loop iterations, detailed state\n   * WARNING: Never enable DEBUG in production!\n   */\n  debug(message, ...data) {\n    if (this.debugMode) {\n      console.log(this.format('DEBUG', message));\n      if (data.length > 0) console.log('  ', ...data);\n    }\n  }\n}\n\n// Export a singleton instance\nmodule.exports = new Logger();</code></div><div class=\"read-more\" style=\"margin-top: 15px; font-size: 0.9em;\"><strong>Read more on MDN:</strong><ul style=\"margin-top: 5px;\"><li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString\" target=\"_blank\">Date.prototype.toISOString()</a></li><li><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/console/log\" target=\"_blank\">console.log()</a></li><li><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/console/warn\" target=\"_blank\">console.warn()</a></li><li><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/console/error\" target=\"_blank\">console.error()</a></li></ul></div>"
        },
        {
            "title": "Create test-logger.js",
            "content": "<p>Create <strong>test-logger.js</strong> in the root:</p><div class=\"code-block\"><code class=\"language-javascript\">// test-logger.js\n// ================\n// Test the logger with all severity levels\n\nconst logger = require('./src/utils/logger');\n\nconsole.log('=== Logger Test ===\\n');\n\n// Test all log levels\nlogger.info('Market service starting up...');\nlogger.warn('Low supply detected for iron_ore');\nlogger.error('Failed to read file', { file: 'markets.json', error: 'ENOENT' });\nlogger.debug('This only shows if DEBUG=true');\n\nconsole.log('\\n=== Try with DEBUG enabled ===');\nconsole.log('Run: set DEBUG=true && node test-logger.js (Windows)');\nconsole.log('Run: DEBUG=true node test-logger.js (Mac/Linux)');</code></div><div class=\"read-more\" style=\"margin-top: 15px; font-size: 0.9em;\"><strong>Read more on MDN:</strong><ul style=\"margin-top: 5px;\"><li><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/console/log\" target=\"_blank\">console.log()</a></li></ul></div><p style=\"margin-top: 15px;\">Run without DEBUG:</p><div class=\"command\">node test-logger.js</div><p style=\"margin-top: 15px;\">Run with DEBUG:</p><div class=\"command\">set DEBUG=true && node test-logger.js</div><button class=\"btn btn-lab\" id=\"labBtn-1c-0\" onclick=\"openLab('labBtn-1c-0')\">ðŸ§ª Try the Logger Lab</button>"
        },
        {
            "title": "Test Results",
            "content": "<p><strong>Without DEBUG:</strong></p><div class=\"code-block\"><code class=\"language-text\">[2025-12-05T15:30:42.123Z] [INFO] Market service starting...\n[2025-12-05T15:30:42.124Z] [WARN] Low supply detected!\n[2025-12-05T15:30:42.125Z] [ERROR] Failed to read file\n   { file: 'markets.json' }</code></div><p style=\"margin-top: 15px;\"><strong>With DEBUG:</strong></p><div class=\"code-block\"><code class=\"language-text\">[2025-12-05T15:30:42.123Z] [INFO] Market service starting...\n[2025-12-05T15:30:42.124Z] [WARN] Low supply detected!\n[2025-12-05T15:30:42.125Z] [ERROR] Failed to read file\n   { file: 'markets.json' }\n[2025-12-05T15:30:42.126Z] [DEBUG] This only shows with DEBUG=true</code></div>"
        },
        {
            "title": "Knowledge Check",
            "content": "<p>Verify your understanding of logging.</p>",
            "quiz": [
                {
                    "question": "Which log level should be used for normal operations?",
                    "options": [
                        "DEBUG",
                        "INFO",
                        "WARN",
                        "ERROR"
                    ],
                    "correct": 1
                },
                {
                    "question": "When should you enable DEBUG logs?",
                    "options": [
                        "Always in production",
                        "Only during development",
                        "Never"
                    ],
                    "correct": 1
                }
            ]
        },
        {
            "title": "Lesson 1c Complete! ðŸŽ‰",
            "content": "<p style=\"font-size: 1.1em;\"><strong>You have successfully built the Logger Utility.</strong></p><div style=\"margin: 20px 0;\"><div class=\"achievement\">âœ“ Implemented structured logging</div><div class=\"achievement\">âœ“ Added log levels</div><div class=\"achievement\">âœ“ Created debug mode</div></div><p style=\"margin-top: 20px; color: #667eea; font-weight: bold;\">â†’ Next: Lesson 1d - Market Configuration</p>"
        }
    ]
}