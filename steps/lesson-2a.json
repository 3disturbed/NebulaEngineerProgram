{
    "id": "lesson-2a",
    "title": "Lesson 2a: Why Store Data?",
    "steps": [
        {
            "title": "The Data Problem",
            "content": "<p>Your microservice needs to <strong>remember things</strong> even after it restarts.</p><div class=\"info-box\"><strong>Without storage:</strong><br>‚Ä¢ Game starts: prices = $100<br>‚Ä¢ Players trade all day<br>‚Ä¢ Server restarts (oops!)<br>‚Ä¢ Prices reset to $100 (NO!)<br><br><strong>With storage:</strong><br>‚Ä¢ Game starts: load yesterday's prices from disk<br>‚Ä¢ Continue from where we left off</div><p style=\"margin-top: 15px;\"><strong>What do we need to store?</strong></p><ul style=\"margin: 10px 0 10px 20px;\"><li>Current commodity prices</li><li>Trading history</li><li>Player balances</li><li>Market snapshots</li></ul>"
        },
        {
            "title": "Database Options",
            "content": "<p>Let's compare our options:</p><table style=\"width: 100%; border-collapse: collapse; margin: 15px 0;\"><tr style=\"background: rgba(102, 126, 234, 0.1);\"><th style=\"border: 1px solid var(--border-color); padding: 10px; text-align: left;\"><strong>Option</strong></th><th style=\"border: 1px solid var(--border-color); padding: 10px; text-align: left;\"><strong>Pros</strong></th><th style=\"border: 1px solid var(--border-color); padding: 10px; text-align: left;\"><strong>Cons</strong></th></tr><tr><td style=\"border: 1px solid var(--border-color); padding: 10px;\"><strong>PostgreSQL</strong></td><td style=\"border: 1px solid var(--border-color); padding: 10px;\">Powerful, scalable</td><td style=\"border: 1px solid var(--border-color); padding: 10px;\">Needs installation, complex setup</td></tr><tr style=\"background: rgba(255, 255, 255, 0.02);\"><td style=\"border: 1px solid var(--border-color); padding: 10px;\"><strong>MongoDB</strong></td><td style=\"border: 1px solid var(--border-color); padding: 10px;\">Flexible, JSON-like</td><td style=\"border: 1px solid var(--border-color); padding: 10px;\">Overkill for prototype, external service</td></tr><tr><td style=\"border: 1px solid var(--border-color); padding: 10px;\"><strong>JSON Files</strong> ‚úì</td><td style=\"border: 1px solid var(--border-color); padding: 10px;\">Simple, no setup, easy to debug</td><td style=\"border: 1px solid var(--border-color); padding: 10px;\">Not scalable, needs safe write pattern</td></tr></table><p style=\"margin-top: 15px;\"><strong>We're using JSON files.</strong> Simple, fast to prototype, and we can always migrate later.</p>"
        },
        {
            "title": "The Danger Zone ‚ö†Ô∏è",
            "content": "<p>JSON file storage seems easy... until something goes wrong.</p><div class=\"info-box\" style=\"border-left-color: #f38ba8; background: rgba(243, 139, 168, 0.1);\"><strong>The Corruption Problem:</strong><br><br>Scenario: You're saving <code>markets.json</code> with new prices<br><br>What SHOULD happen:<br><code>{ \"iron_ore\": 100, \"copper_ore\": 75 }</code><br><br>What CAN happen if you crash mid-write:<br><code>{ \"iron_ore\": 100, \"copper</code><br>(FILE CORRUPTED! Can't parse!)</div><p style=\"margin-top: 15px;\"><strong>Result:</strong> Your entire game database becomes unreadable. Game over.</p><p style=\"margin-top: 15px;\"><strong>Solution:</strong> Use the Safe Write Pattern (next lesson!)</p>"
        },
        {
            "title": "Knowledge Check",
            "content": "<p>Verify your understanding of data storage concepts.</p>",
            "quiz": [
                {
                    "question": "Why do we need data storage in our game?",
                    "options": [
                        "To make the game run faster",
                        "To remember data (like prices) after a server restart",
                        "To use more hard drive space"
                    ],
                    "correct": 1
                },
                {
                    "question": "What is the main risk of writing directly to a JSON file?",
                    "options": [
                        "It uses too much memory",
                        "It's too slow",
                        "A crash during writing can corrupt the file"
                    ],
                    "correct": 2
                }
            ]
        },
        {
            "title": "Lesson 2a Complete! üéâ",
            "content": "<p style=\"font-size: 1.1em;\"><strong>You understand why we need storage and the dangers.</strong></p><div style=\"margin: 20px 0;\"><div class=\"achievement\">‚úì Learned about data persistence</div><div class=\"achievement\">‚úì Compared storage options</div><div class=\"achievement\">‚úì Understand file corruption risk</div></div><p style=\"margin-top: 20px; color: #667eea; font-weight: bold;\">‚Üí Next: Lesson 2b - The Safe Write Pattern</p>"
        }
    ]
}
